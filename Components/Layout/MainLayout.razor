@*layout UI for MainLayout *@

@inherits LayoutComponentBase

<div class="app-shell @(isDark ? "theme-dark" : "")">
    <Sidebar />

    <div class="app-main">
        <TopBar IsDark="@isDark" OnToggleTheme="ToggleTheme" />

        <div class="app-content">
            @Body
        </div>
    </div>
</div>

<PinGate />

@code {
    private bool isDark;

    protected override void OnInitialized()
    {
        isDark = Preferences.Get("theme.dark", false);
    }

    private void ToggleTheme()
    {
        isDark = !isDark;
        Preferences.Set("theme.dark", isDark);
    }}
